<Configuration log="yes">
    <Server port="80"/>
    <Pipeline name="Transmitter">
        <DicomImportService
            calledAETTag="00120010"
            class="org.rsna.ctp.stdstages.DicomImportService"
            logConnections="rejected"
            name="DicomImportService"
            port="1081"
            quarantine="quarantines/Transmitter/DicomImportService"
            root="roots/Transmitter/DicomImportService"
			servletContext="export" />
        <ObjectCache
            name="ObjectCache-RS"
            class="org.rsna.ctp.stdstages.ObjectCache"
            id="ObjectCache-RS"
            root="roots/Transmitter/ObjectCache-RS" />
        <DicomAnonymizer
            class="org.rsna.ctp.stdstages.DicomAnonymizer"
            lookupTable="scripts/lookup-table.properties"
            name="DicomAnonymizer"
            quarantine="quarantines/Transmitter/DicomAnonymizer"
            root="roots/Transmitter/DicomAnonymizer"
            script="scripts/Transmitter.script"/>
        <CachingXDSExportService
        	servletContext="xds-export"
            name="CachingXDSExportService-RS"
            class="org.rsna.isn.ctp.xds.sender.CachingXDSExportService"
            root="roots/Transmitter/CachingXDSExportService-RS"
            objectCacheID="ObjectCache-RS"
            minAge="300"
            timeDepth="30"

			iti8Pix="mllps://clearinghouse.lifeimage.com:8888"
			iti8Reg="mllps://clearinghouse.lifeimage.com:8890"
			iti41="https://clearinghouse.lifeimage.com/services/xdsrepositoryb"
			iti41SrcId="1.3.6.1.4.1.19376.2.840.1.1.2.1"
			timeout="120000"

            quarantine="quarantines/Transmitter/CachingXDSExportService-RS">
            <Destination
            	name="Trial 1"
            	key="506ca492555ea57e9ea24cf563c328add9760b68367b2fc0ded838e89c36009d" />
            <Destination
            	name="Trial 2"
            	key="210238ecf805ea9c01089d5ee377ad22b981582134d9ccaff6ee5c80bfd0a71f" />
            <Destination
            	name="Trial 3"
            	key="ecfe702b4fa7ece6f025d313204f87e3d23469b8020698c55cdfacbf31a5524e" />
            <Destination
            	name="Trial 4"
            	key="35b4bd4819fbb26847b02b84333ffcc6fe7706d054d773d90abac374f3e68b53" />
        </CachingXDSExportService>
    </Pipeline>
    <Pipeline name="Receiver">
		<PollingXDSImportService
			name="PollingXDSImportService-RR"
			class="org.rsna.isn.ctp.xds.receiver.PollingXDSImportService"
			root="roots/Receiver/PollingXDSImportService-RR"
			interval="60"
			rad69URL="https://clearinghouse.lifeimage.com/ImagingDocumentSource_Service?wsdl"
			registryURL="https://clearinghouse.lifeimage.com/services/xdsregistryb"
			repositoryURL="https://clearinghouse.lifeimage.com/services/xdsrepositoryb"
			repositoryUniqueID="rsna.domain.repository"
			assigningAuthorityUniversalID="1.3.6.1.4.1.19376.2.840.1.1.1.1"
			assigningAuthorityUniversalIDType="ISO"
			homeCommunityID="rsna.domain&lt;/HomeCommunityId"
			keystore="keystore.jks"
			keystorepassword="edge1234"
			truststore="truststore.jks"
			truststorepassword="edge1234"
			siteID="6cc876e0254492ae2a693e6babfc1b0dc9b42bc8bf3cc4e1d2b0f09d5eb2a3b1"
			imagesPerRequest="100"
			servletContext="xds-import" />
        <Processor
            name="ObjectLogger-RR"
            class="org.rsna.ctp.stdstages.ObjectLogger"
            interval="1"
            verbose="yes" />
        <FileStorageService
            class="org.rsna.ctp.stdstages.FileStorageService"
            name="FileStorageService"
            port="1086"
            quarantine="quarantines/Receiver/FileStorageService"
            root="roots/Receiver/FileStorageService"/>
   </Pipeline>
</Configuration>
